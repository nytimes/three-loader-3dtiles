import{O as g,S,a as C}from"./stats-widget-2bh5fk-S.js";import{S as I,P as y,W as f,L as v,a as M,C as P}from"./three-loader-3diles-xCgGzQWV.js";const E="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NjEwMjA4Ni00YmVkLTQyMjgtYjRmZS1lY2M3ZWFiMmFmNTYiLCJpZCI6MjYxMzMsImlhdCI6MTY3NTM2ODY4NX0.chGkGL6DkDNv5wYJQDMzWIvi9iDoVa27dgng_5ARDmo",e=document.querySelector("#canvas-parent"),l=document.querySelector("#stats-widget"),p=new I,n=new y(35,1,.01,1e4);n.position.set(0,4e3,0);const a=new f,T=new P,u=new g(n,e);u.listenToKeyEvents(window);e.appendChild(a.domElement);const i=new S;i.domElement.style.position="absolute";i.domElement.style.top="10px";i.domElement.style.left="10px";e.appendChild(i.domElement);const m=new URLSearchParams(document.location.search);j();let t,s;async function j(){const c=await v.load({url:`https://assets.ion.cesium.com/${m.get("assetId")??43978}/tileset.json`,viewport:h(),options:{cesiumIONToken:m.get("ionToken")??E,dracoDecoderPath:"https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/libs/draco",pointCloudColoring:M.RGB,maximumScreenSpaceError:6,memoryAdjustedScreenSpaceError:!1,resetTransform:!0}}),{model:o,runtime:d}=c;o.rotation.set(-Math.PI/2,0,0),t=d,p.add(o),s=new C(d.getStats(),{container:l}),l.style.visibility="visible",r()}function w(c){const o=T.getDelta();u.update(),t&&t.update(o,n),s&&s.update(),a.render(p,n),i.update(),window.requestAnimationFrame(w)}r();function r(){a.setSize(e.clientWidth,e.clientHeight),t==null||t.setViewport(h()),n.aspect=e.clientWidth/e.clientHeight,n.updateProjectionMatrix()}window.addEventListener("resize",r);function h(){return{width:e.clientWidth,height:e.clientHeight,devicePixelRatio:window.devicePixelRatio}}w();
