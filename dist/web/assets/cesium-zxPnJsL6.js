import{O as S,S as C,a as I}from"./stats-widget-iY0orfab.js";import{S as g,P as y,V as f,W as M,L as v,a as E,C as T}from"./three-loader-3diles-GxHm2R7W.js";const j="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NjEwMjA4Ni00YmVkLTQyMjgtYjRmZS1lY2M3ZWFiMmFmNTYiLCJpZCI6MjYxMzMsImlhdCI6MTY3NTM2ODY4NX0.chGkGL6DkDNv5wYJQDMzWIvi9iDoVa27dgng_5ARDmo",e=document.querySelector("#canvas-parent"),d=document.querySelector("#stats-widget"),m=new g,t=new y(35,1,.01,1e4);t.position.set(0,4e3,0);const p=new f,o=new M,N=new T,u=new S(t,e);u.listenToKeyEvents(window);e.appendChild(o.domElement);const n=new C;n.domElement.style.position="absolute";n.domElement.style.top="10px";n.domElement.style.left="10px";e.appendChild(n.domElement);const l=new URLSearchParams(document.location.search);P();let i,a;async function P(){const r=await v.load({url:`https://assets.ion.cesium.com/${l.get("assetId")??43978}/tileset.json`,renderer:o,options:{cesiumIONToken:l.get("ionToken")??j,dracoDecoderPath:"https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/libs/draco",pointCloudColoring:E.RGB,maximumScreenSpaceError:6,memoryAdjustedScreenSpaceError:!1,resetTransform:!0}}),{model:s,runtime:c}=r;s.rotation.set(-Math.PI/2,0,0),i=c,m.add(s),a=new I(c.getStats(),{container:d}),d.style.visibility="visible"}function w(r){const s=N.getDelta();u.update(),i&&i.update(s,p,t),a&&a.update(),o.render(m,t),n.update(),window.requestAnimationFrame(w)}h();function h(){o.setSize(e.clientWidth,e.clientHeight),p.set(e.clientWidth,e.clientHeight),t.aspect=e.clientWidth/e.clientHeight,t.updateProjectionMatrix()}window.addEventListener("resize",h);w();
